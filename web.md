# リソース設計
- クライアントとサーバ間のインターフェース設計
- WebAPIの外部設計
- OOPやRDBMSのような一般的な設計手法は存在しない

## リソース指向アーキテクチャのアプローチ
### 郵便番号検索サービスの設計(読み取り専用)
1. Webサービスで提供できるデータを問特定する
  - 7桁の郵便番号
  - その郵便番号が表現する住所(都道府県名、市区町村名、町域名)
  - 住所のカタカナ読み
2. データをリソースに分ける(大変で重要なステップ)
  - 郵便番号リソース
    - 1つの郵便番号に対応するリソース。住所や読みも含む
  - 検索結果リソース
    - 郵便番号の一部や住所の一部で郵便番号を検索した結果のリソース
  - 地域リソース
    - 都道府県、市区町村、町域のリソース。上位の地域は下位の地域を含んでいる
  - トップレベルリソース
    - このWebサービスのスタート地点。
3. リソースにURIで名前を付ける
  - 郵便番号リソース
    - 郵便番号で一意に識別できる
    - //zip.ricollab/1120002
    - //zip.ricollab/{1120002}
  - 検索結果リソース
    - 検索キーワードの入力を必要とする
    - クライアントからの入力を受け取る場合はクエリパラメータを利用する
    - //zip.ricollab/search?q=板橋区
    - //zip.ricollab/search?q={板橋区}
    - 実際は日本語はUTF-8で%エンコードする
  - 地域リソース
    - 階層を持っており、都道府県の下には市区町村が、市区町村の下には町域が存在する
    - //zip.ricollab/東京都
    - //zip.ricollab/東京都/板橋区
    - //zip.ricollab/東京都/板橋区/大泉
    - //zip.ricollab/{都道府県}/{市区町村}/{町域}
  - トップレベルリソース
    - 一番ルートとなるURI
    - //zip.ricollab
4. クライアントに提供するリソースの表現を設計する
  - 各リソースの表現形式を設計する
  - XML表現、軽量フォーマット表現、マルチメディア表現
    - XML表現：XHTML,Atom,独自XML
    - 軽量フォーマット表現：JSON/JSONP,YAML,CSV
    - マルチメディア表現：画像(GIF,JPEG)、映像(MPEG,WMV)、マルチページ画像(PDF)
5. リンクとフォームを利用してリソース同市を結び付ける
  - nextキーにそのリソースのリンクを埋め込む
6. イベントの標準的なコースを検討する
  - 想定される利用コースを考える
7. エラーについて検討する
  - 存在しないURLを指定 => 404
  - 必須パラメータを指定しない => 400
  - サポートしないメソッドを利用した => 405
